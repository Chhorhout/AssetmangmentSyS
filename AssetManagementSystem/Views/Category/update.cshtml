@* @model Category

<div class="container-fluid">
	<div class="row">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
					<h5 class="mb-0">
						<i class="bi bi-pencil-square me-2"></i>Update Category
					</h5>
					<div>
						<a asp-action="Index" class="btn btn-light btn-sm">
							<i class="bi bi-arrow-left"></i> Back to List
						</a>
					</div>
				</div>
				<div class="card-body">
					<form asp-action="Update" class="needs-validation" novalidate>
						<div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>
						
						<input type="hidden" asp-for="Id" />

						<div class="table-responsive">
							<table class="table table-bordered table-hover">
								<tbody>
									<tr>
										<th class="bg-light" style="width: 200px;">
											<label asp-for="Name" class="form-label mb-0">
												Category Name
												<i class="bi bi-info-circle text-primary" data-bs-toggle="tooltip" 
												   title="Enter a unique category name"></i>
											</label>
										</th>
										<td>
											<div class="input-group">
												<span class="input-group-text">
													<i class="bi bi-tag"></i>
												</span>
												<input asp-for="Name" class="form-control" placeholder="Enter category name" required />
												<div class="invalid-feedback">Please enter a category name</div>
											</div>
											<span asp-validation-for="Name" class="text-danger"></span>
										</td>
									</tr>
									<tr>
										<th class="bg-light">
											<label asp-for="CreatedBy" class="form-label mb-0">
												Created By
												<i class="bi bi-info-circle text-primary" data-bs-toggle="tooltip" 
												   title="Enter the name of the person who created this category"></i>
											</label>
										</th>
										<td>
											<div class="input-group">
												<span class="input-group-text">
													<i class="bi bi-person"></i>
												</span>
												<input asp-for="CreatedBy" class="form-control" placeholder="Enter created by" required />
												<div class="invalid-feedback">Please enter the creator's name</div>
											</div>
											<span asp-validation-for="CreatedBy" class="text-danger"></span>
										</td>
									</tr>
									<tr>
										<th class="bg-light">
											<label asp-for="Kilogram" class="form-label mb-0">
												Weight (Kilogram)
												<i class="bi bi-info-circle text-primary" data-bs-toggle="tooltip" 
												   title="Enter the weight in kilograms"></i>
											</label>
										</th>
										<td>
											<div class="input-group">
												<span class="input-group-text">
													<i class="bi bi-scale"></i>
												</span>
												<input asp-for="Kilogram" class="form-control" placeholder="Enter kilogram" required />
												<span class="input-group-text">kg</span>
												<div class="invalid-feedback">Please enter the weight in kilograms</div>
											</div>
											<span asp-validation-for="Kilogram" class="text-danger"></span>
										</td>
									</tr>
									<tr>
										<th class="bg-light">
											<label class="form-label mb-0">Status</label>
										</th>
										<td>
											<div class="form-check form-switch">
												<input type="checkbox" class="form-check-input" asp-for="Active" />
												<label class="form-check-label" asp-for="Active">Active</label>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>

						<div class="d-flex justify-content-end mt-4">
							<button type="reset" class="btn btn-secondary me-2">
								<i class="bi bi-arrow-counterclockwise"></i> Reset
							</button>
							<button type="submit" class="btn btn-success" id="saveButton">
								<i class="bi bi-save"></i> Update Category
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	<script>
		// Enable tooltips
		var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
		var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
			return new bootstrap.Tooltip(tooltipTriggerEl)
		});

		// Form validation
		(function () {
			'use strict'
			var forms = document.querySelectorAll('.needs-validation')
			Array.prototype.slice.call(forms).forEach(function (form) {
				form.addEventListener('submit', function (event) {
					if (!form.checkValidity()) {
						event.preventDefault()
						event.stopPropagation()
						
						// Show SweetAlert2 for validation error
						Swal.fire({
							icon: 'error',
							title: 'Validation Error',
							text: 'Please fill in all required fields before submitting.',
							confirmButtonColor: '#3085d6'
						});
					}
					form.classList.add('was-validated')
				}, false)
			})
		})()

		// Add input validation styling
		document.querySelectorAll('input[required]').forEach(input => {
			input.addEventListener('input', function() {
				if (this.value.trim() !== '') {
					this.classList.add('is-valid');
					this.classList.remove('is-invalid');
				} else {
					this.classList.add('is-invalid');
					this.classList.remove('is-valid');
				}
			});
		});
	</script>
} *@
